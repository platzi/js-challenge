(()=>{const e=document.getElementById("app"),t=document.getElementById("observe"),o="initial",n=new IntersectionObserver((t=>{t.forEach((t=>{var n;t.isIntersecting&&(n="https://api.escuelajs.co/api/v1/products?offset="+localStorage.getItem(o)+"&limit=10",fetch(n).then((e=>e.json())).then((t=>{let n=t;if(console.log(n),0===n.length)return alert("Todos los productos Obtenidos"),void c();!async function(e){localStorage.setItem(o,e)}(n.slice(-1)[0].id);let l=n.map((e=>"<article class='Card'><img src='"+e.images[0]+"'/><h2>"+e.title+" "+e.id+"<small>$ "+e.price+"</small></h2></article>")),s=document.createElement("section");s.classList.add("Item"),s.innerHTML=l,e.appendChild(s)})).catch((e=>console.log(e))))}))}),{rootMargin:"0px 0px 100% 0px"}),c=function(){n.disconnect()};window.onbeforeunload=function(){return localStorage.removeItem(o),""},n.observe(t),localStorage.setItem(o,"4")})();
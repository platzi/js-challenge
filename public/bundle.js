(()=>{const e=document.getElementById("app"),t=document.getElementById("observe"),a=window.localStorage,n=new IntersectionObserver((i=>{i[0].isIntersecting&&(async()=>{await(async()=>{await(async i=>{let o=Number(a.getItem("initialState")),l=o+10;await fetch("https://api.escuelajs.co/api/v1/products").then((e=>e.json())).then((a=>{let i=a.slice(o,l);0===i.length&&(n.unobserve(t),alert("Todos los productos Obtenidos"));let s=document.createElement("section");s.classList.add("Items"),s.innerHTML=i.map((e=>`<article class="Card">\n    <img src="${e.category.image}" alt="${e.category.name}" />\n    <h2>\n    ${e.title}\n      <small>$ ${e.price}</small>\n    </h2>\n  </article>`)).join(""),e.appendChild(s)})).catch((e=>console.log(e)))})()})();let i=Number(a.getItem("initialState"))+10;a.setItem("initialState",i.toString())})()}),{rootMargin:"0px 0px 100% 0px"});1==window.performance.navigation.type&&a.removeItem("initialState"),window.addEventListener("beforeunload",(e=>{a.removeItem("initialState")})),null==a.getItem("initialState")&&a.setItem("initialState","4"),n.observe(t)})();
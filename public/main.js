(()=>{const e=document.getElementById("app"),t=document.getElementById("observe");localStorage.clear(),localStorage.setItem("pagination",5);const n=async()=>{await(async t=>{try{const t=await fetch(`https://api.escuelajs.co/api/v1/products?offset=${localStorage.getItem("pagination")}&limit=10`);let n=(await t.json()).map((e=>`\n      <article class="Card">\n        <img src="${e.images[0]}"/>\n        <h2>\n          ${e.title}\n          <small>$ ${e.price}</small>\n        </h2>\n      </article>\n    `)),a=document.createElement("section");a.classList.add("Items"),a.innerHTML=n.join(""),e.appendChild(a)}catch(e){console.log(e)}})()},a=new IntersectionObserver(((a,o)=>{const s=+localStorage.getItem("pagination");if(a[0].isIntersecting&&0!==window.scrollY){const e=s+10;localStorage.setItem("pagination",e),n()}if(s>200){o.unobserve(t);let n=document.createElement("section");n.classList.add("Empty"),n.innerHTML="<h1>Todos los productos Obtenidos</h1>",e.appendChild(n)}}),{rootMargin:"0px 0px 100% 0px"});n(),a.observe(t)})();
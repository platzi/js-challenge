(()=>{"use strict";const e=e=>new Promise(((t,n)=>{const[a,o]=[(s=Number.parseInt(localStorage.getItem("pagination")))*(c=10)+(l=5),(s+1)*c+l];var s,c,l;fetch(e+`?offset=${a}&limit=10`).then((e=>e.json())).then((e=>{let n=e.map((e=>(e=>{let t=`<article class="Card">\n        <img src="${e.images[0]}" alt="${e.description}"/>\n        <h2>\n          ${e.title}\n          <small>$ ${e.price}</small>\n        </h2>\n      </article>`,n=document.createElement("div");return n.classList.add("Item"),n.innerHTML=t,n})(e)));const a=(()=>{const e=document.createElement("div");return e.classList.add("Items"),e})();n.forEach((e=>a.appendChild(e))),t(a)})).catch((e=>n(e)))})),t=document.getElementById("observe"),n=document.getElementById("app"),a=()=>{e("https://api.escuelajs.co/api/v1/products").then((e=>{n.appendChild(e),e.childElementCount>0&&e.childElementCount<10&&(n.append(s()),o.unobserve(t))})).catch((e=>console.log(e)))},o=new IntersectionObserver((e=>{e.filter(c).forEach((e=>{(e=>{const t=Number.parseInt(localStorage.getItem("pagination"))+e;localStorage.setItem("pagination",t)})(1),a()}))}),{rootMargin:"0px 0px 100% 0px"}),s=()=>{const e=document.createElement("div");return e.innerHTML="<br><br><h3>Todos los productos Obtenidos</h3>",e},c=e=>e.isIntersecting;(async()=>{localStorage.clear(),localStorage.setItem("pagination",0),t.className="display:none",a()})().finally((()=>{t.className="display:block",o.observe(t)}))})();
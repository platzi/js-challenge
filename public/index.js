(()=>{"use strict";const e=e=>new Promise(((t,n)=>{const[r,c]=[(a=Number.parseInt(localStorage.getItem("currentPage")))*(o=10)+(s=5),(a+1)*o+s];var a,o,s;fetch(e+`?offset=${r}&limit=10`).then((e=>e.json())).then((e=>{let n=e.map((e=>(e=>{let t=`<article class="Card">\n        <img src="${e.images[0]}" alt="${e.description}"/>\n        <h2>\n          ${e.title}\n          <small>$ ${e.price}</small>\n        </h2>\n      </article>`,n=document.createElement("div");return n.classList.add("Item"),n.innerHTML=t,n})(e)));const r=(()=>{const e=document.createElement("div");return e.classList.add("Items"),e})();n.forEach((e=>r.appendChild(e))),t(r)})).catch((e=>n(e)))})),t=document.getElementById("observe"),n=document.getElementById("app"),r=()=>{e("https://api.escuelajs.co/api/v1/products").then((e=>{n.appendChild(e),e.childElementCount>0&&e.childElementCount<10&&(n.append(a()),c.unobserve(t))})).catch((e=>console.log(e)))},c=new IntersectionObserver((e=>{e.filter(o).forEach((e=>{(e=>{const t=Number.parseInt(localStorage.getItem("currentPage"))+e;localStorage.setItem("currentPage",t)})(1),r()}))}),{rootMargin:"0px 0px 100% 0px"}),a=()=>{const e=document.createElement("div");return e.innerHTML="<br><br><h3>Todos los productos Obtenidos</h3>",e},o=e=>e.isIntersecting;(async()=>{localStorage.clear(),localStorage.setItem("currentPage",0),c.unobserve(t),r()})().finally((()=>c.observe(t)))})();